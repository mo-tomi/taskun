# Taskun - 高機能タスク管理アプリケーション

シンプルで美しいタイムライン型タスク管理アプリケーション

## ✨ 特徴

### 🚀 クイック追加UI（100点仕様）
- **瞬間的時間設定**: 現在時刻の自動設定とワンクリック設定
- **視覚的即座性**: リアルタイムプレビューとアニメーション
- **効率的ワークフロー**: ワンクリック操作とスマート入力

### 🎛️ 直感的な操作
- クイック追加ボタン（右下の「+」ボタン）
- ワンクリックでタスク追加フォームを開く
- 現在時刻の自動設定
- シンプルなマウス操作のみ

### ⏰ スマート時間管理
- 現在時刻の自動設定
- 時間プリセット（15/30/60/120分）
- 開始時刻変更時の自動終了時刻計算
- タスクの重なり問題を解決した削除機能

### 🎨 プレミアムデザイン
- グラスモーフィズム
- ニューモーフィズム
- マイクロインタラクション
- レスポンシブデザイン

### 🎯 主要機能
- **タイムライン表示**: 直感的な時間軸でのタスク管理
- **📝 タスク待機リスト**: まず思いついたタスクを登録、後でスケジュールに配置
- **エネルギートラッキング**: 日々の活力レベルの記録
- **統計表示**: タスク完了率や習慣の連続記録
- **重なり解決**: 複数タスクが重なった時でも適切に操作可能

## 🛠️ 技術スタック

- **Frontend**: React 18 + TypeScript
- **Build Tool**: Vite
- **Package Manager**: pnpm
- **Styling**: Tailwind CSS
- **Icons**: Lucide React
- **Date**: date-fns
- **Animation**: Framer Motion

## 🚦 開発環境

### 必要なソフトウェア
- Node.js 18+
- pnpm 8+

### セットアップ

```bash
# 依存関係のインストール
pnpm install

# 開発サーバーを起動
pnpm dev

# 本番ビルド
pnpm build

# 型チェック
pnpm type-check

# ESLint実行
pnpm lint

# ESLint自動修正
pnpm lint:fix
```

## 📁 プロジェクト構造

```
src/
├── components/         # Reactコンポーネント
│   ├── Energy/        # エネルギートラッキング
│   ├── Inbox/         # クイック追加機能
│   ├── Layout/        # レイアウトコンポーネント
│   ├── Stats/         # 統計表示
│   └── Timeline/      # タイムライン表示
├── hooks/             # カスタムフック
├── types/             # TypeScript型定義
├── utils/             # ユーティリティ関数
└── index.css          # グローバルスタイル
```

## 🔄 最近の更新

### v1.2.6: 24時間タイムライン対応と時間計算の大幅改善
**更新日**: 2025年1月7日

#### 🚀 主要機能強化
- **24時間タイムライン表示**
  - 6:00-翌日06:00の連続24時間表示に拡張
  - 翌日の時間帯を青色で区別表示（+1マーク付き）
  - 0:00の位置に日付境界線を追加
  - 時間軸の視認性を大幅向上

- **タスクの縦幅表示修正**
  - タスクの実際の時間幅と表示高さの正確な対応
  - 複数日タスクセグメントの高さ計算を完全修正
  - 日をまたぐタスク（23:00-02:00など）の適切な表示
  - タスクカード内コンテンツのオーバーフロー対策

#### 🎯 ドラッグ&ドロップ機能の強化
- **24時間対応ドラッグ移動**
  - 6:00-翌日05:45の範囲でタスクを自由移動
  - 15分単位の自動スナップ（24時間循環対応）
  - ドラッグガイドラインの24時間対応
  - 日をまたぐタスクの自動判定と設定

- **時間変更の高度化**
  - 複数日タスクフラグの自動設定/解除
  - 時間範囲制限の動的調整
  - エラーハンドリングの強化

#### 🕐 タスク追加機能の拡張
- **24時間対応の時間選択**
  - QuickAddで6:00-翌日05:45の時間選択が可能
  - 翌日の時間は「+1日」表示で明確に区別
  - 現在時刻の自動設定も24時間循環対応

- **UI/UX改善**
  - タスクカードの動的サイズ調整
  - 内容に応じたサブタスク・プログレスバー表示
  - スクロール可能なコンテンツエリア

#### 🎨 視覚的改善
- **時間軸の明確化**
  - 翌日時間の色分け表示
  - 日付境界線の明示
  - 現在時刻インジケーターの24時間対応

- **タスク表示の最適化**
  - 高さに応じた情報表示の調整
  - オーバーフローの防止
  - レスポンシブな内容表示

#### 🔧 技術的改善
- **時間計算ロジックの完全刷新**
  - 24時間循環計算の実装
  - セグメント時間の正確な処理
  - 複数日タスクの高精度位置計算

- **パフォーマンス最適化**
  - ドラッグ操作のスムーズな応答
  - 時間計算の効率化
  - レンダリング最適化

#### 🐛 解決した問題
- タスクの時間幅と表示高さの不一致
- 日をまたぐタスクの表示崩れ
- 0:00以降の時間表示ができない問題
- ドラッグ操作の時間範囲制限
- タスクカード内容のはみ出し

### v1.2.5: 重要なバグ修正とエネルギートラッキング改善
**更新日**: 2025年1月7日

#### 🔧 修正内容
- **エネルギーレベル記録機能の修正**
  - `crypto.randomUUID()`の互換性問題を解決
  - より互換性のあるID生成方式に変更
  - デバッグログを追加してエネルギー記録プロセスを可視化
  - LocalStorage保存の安定性を向上

- **日をまたぐタスク表示の修正**
  - Timeline.tsxで複数日タスクセグメントを適切に処理
  - `taskSegments`配列を活用した正確な表示ロジック
  - TaskWithSegment型を定義して型安全性を確保
  - セグメント固有のキー使用により重複表示を防止
  - 日をまたぐタスクが各日に適切なセグメントとして表示されるように改善

- **技術的改善**
  - TypeScript型定義の強化
  - React useMemoを活用したパフォーマンス最適化
  - 複数日タスクの時間計算ロジック改善
  - エラーハンドリングの強化

- **解決した問題**
  - エネルギーレベルがスライダーやボタンで記録されない問題
  - 日をまたぐタスク（23:00-02:00など）の表示が正しくない問題
  - 複数日タスクのセグメント表示の不具合
  - ブラウザ互換性に関する問題

### v1.2.4: 集中モード削除
**更新日**: 2025年1月1日

#### 🗑️ 削除機能
- **集中モード（FocusMode）機能を完全削除**
  - `src/components/FocusMode/FocusMode.tsx`ファイル削除
  - App.tsxから関連import、状態、関数削除
  - ポモドーロタイマー機能の無効化
  - Timeline.tsxからonTaskFocusプロパティ削除

#### 💡 理由
- シンプルで直感的な操作に集中するため
- マウス操作重視のユーザー体験統一
- 機能の複雑化を避け、核となる機能に専念

## 🚀 主要機能

### 📅 24時間対応タイムライン表示
- **連続24時間表示**: 6:00-翌日06:00の途切れないタイムライン
- **翌日時間の明確化**: 青色表示と+1マークで直感的な区別
- **日付境界線**: 0:00の位置に明確な日付切り替え線
- **現在時刻リアルタイム表示**: 赤い線で現在時刻を明示
- **複数日タスク対応**: 日をまたぐタスクの完璧な表示

### 🎯 正確なタスク時間表示
- **時間幅完全対応**: タスクの実際の時間と表示高さが正確に一致
- **動的サイズ調整**: タスクの長さに応じた適切なカードサイズ
- **内容最適化**: 高さに応じたサブタスク・プログレス表示
- **オーバーフロー防止**: スクロール可能なコンテンツエリア

### 🖱️ 24時間対応ドラッグ&ドロップ
- **全時間帯移動**: 6:00-翌日05:45の範囲で自由なタスク移動
- **15分単位スナップ**: 正確で使いやすい時間調整
- **視覚的ガイド**: 24時間対応のドラッグガイドライン
- **自動複数日判定**: 日をまたぐタスクの自動設定

### ⚡ エネルギートラッキング
- **24時間推移グラフ**: SVGベースの美しいグラフ表示
- **常時表示スライダー**: ワンタッチでエネルギーレベル記録
- **ワンクリック記録ボタン**: 低・普通・良い・最高の4段階

### 📝 Todo管理
- **優先度管理**: 4段階の優先度設定（緊急🔥、高⚡、中📝、低📋）
- **一括スケジュール変換**: 選択したTodoを自動でスケジュールに配置
- **24時間対応**: 翌日早朝の時間も選択可能

### 📊 詳細分析機能
- **タスク完了統計**: 日別・週別の完了率分析
- **時間利用効率**: 計画時間と実績の比較
- **エネルギーレベル相関**: パフォーマンスとの関連性分析

### 🌙 完全ダークモード対応
- **システム連動**: OSの設定に自動追従
- **手動切り替え**: ライト・ダーク・自動の3モード
- **CSS変数システム**: 一貫した色彩管理

## 🛠️ 技術仕様

### フロントエンド
- **React 18** - 最新のReactフック活用
- **TypeScript** - 完全な型安全性
- **Tailwind CSS** - ユーティリティファーストCSS
- **Framer Motion** - 滑らかなアニメーション
- **date-fns** - 日付操作ライブラリ

### 状態管理
- **カスタムフック** - 機能別の状態管理
- **LocalStorage** - ブラウザローカル保存
- **React Context** - テーマ状態管理

### 開発環境
- **Vite** - 高速ビルドツール
- **pnpm** - 効率的パッケージマネージャー
- **ESLint** - コード品質管理
- **TypeScript** - 静的型チェック

## 📦 インストール・起動

```bash
# pnpmでの依存関係インストール
pnpm install

# 開発サーバー起動（自動ブラウザ起動）
pnpm run dev

# ビルド
pnpm run build

# プレビュー
pnpm run preview
```

## 🌐 アクセス情報
- **開発サーバー**: http://localhost:5176/taskun/
- **自動ブラウザ起動**: 有効化済み
- **ホットリロード**: 全ファイル監視

## 📝 使用方法

### 24時間タイムライン
1. **時間軸**: 6:00から翌日06:00まで連続表示
2. **翌日時間**: 青色表示で明確に区別
3. **日付境界**: 0:00の位置で自動的に翌日に切り替え
4. **タスク移動**: ドラッグで24時間内の任意の時間に移動

### 基本操作
1. **タスク追加**: 右下の「+」ボタンから新規タスク作成
2. **24時間時間選択**: 6:00-翌日05:45から選択可能
3. **時間変更**: タスクの時間部分をクリックして編集
4. **名前変更**: タスクタイトルをクリックして編集
5. **ドラッグ移動**: タスクをドラッグして24時間軸上で移動
6. **完了切り替え**: 左の円ボタンでタスク完了/未完了切り替え

### 日をまたぐタスク
1. **自動判定**: 23:00-02:00などの時間設定で自動的に複数日タスクに
2. **セグメント表示**: 各日に適切なセグメントとして表示
3. **期間表示**: 複数日タスクには期間情報を表示

### Todo管理
1. **Todoリスト**: ヘッダーの📝ボタンでTodoリスト表示
2. **Todo追加**: 「新しいTodo」ボタンで追加
3. **優先度設定**: 緊急🔥、高⚡、中📝、低📋から選択
4. **スケジュール変換**: 複数選択して「スケジュールに追加」で一括変換

### エネルギートラッキング
1. **スライダー操作**: 下部のスライダーを動かして離すだけで記録
2. **ワンクリック記録**: 低・普通・良い・最高ボタンで即座に記録
3. **グラフ確認**: 24時間の推移を視覚的に確認

### 分析機能
1. **統計表示**: ヘッダーの📊ボタンで統計モーダル表示
2. **完了率確認**: 日別・週別の達成状況
3. **効率分析**: 時間利用とエネルギーレベルの相関

## 🎨 カスタマイズ

### テーマシステム
- **CSS変数**: `src/index.css`で色彩管理
- **Tailwindクラス**: コンポーネント別スタイリング
- **ダークモード**: 自動切り替え対応

### データ管理
- **LocalStorage**: ブラウザ内データ永続化
- **型安全性**: TypeScriptによる完全な型管理
- **データエクスポート**: 将来的な機能拡張予定

## 🚧 今後の予定

### 短期計画（v1.3.x）
- **データ同期機能**: クラウド連携
- **通知システム**: タスクリマインダー
- **週表示**: 7日間の連続タイムライン

### 中期計画（v1.4.x）
- **チーム機能**: 複数ユーザー対応
- **カレンダー連携**: Googleカレンダー同期
- **レポート機能**: 詳細な生産性分析

### 長期計画（v2.0.x）
- **モバイルアプリ**: React Native版
- **AI機能**: タスク提案・最適化
- **インテグレーション**: 外部サービス連携

## 📞 サポート・フィードバック

- **GitHub Issues**: バグ報告・機能要求
- **プルリクエスト**: コード貢献歓迎
- **ドキュメント**: 継続的な改善

---

**Taskun** - あなたの生産性を最大化する、シンプルで強力なタスク管理ソリューション

*最終更新: 2025年1月7日*
