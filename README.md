# Taskun - 構造化プランナー

シンプルで美しいタイムライン型タスク管理アプリケーション

## ✨ 特徴

### 🚀 クイック追加UI
- **瞬間的時間設定**: 現在時刻の自動設定とワンクリック設定
- **視覚的即座性**: リアルタイムプレビューとアニメーション
- **効率的ワークフロー**: ワンクリック操作とスマート入力

### 🎛️ 直感的な操作
- クイック追加ボタン（右下の「+」ボタン）
- ワンクリックでタスク追加フォームを開く
- 現在時刻の自動設定

### ⏰ スマート時間管理
- 現在時刻の自動設定
- 時間プリセット（15/30/60/120分）
- 開始時刻変更時の自動終了時刻計算

### 🎯 主要機能
- **タイムライン表示**: 直感的な時間軸でのタスク管理
- **📝 タスク待機リスト**: まず思いついたタスクを登録、後でスケジュールに配置
- **エネルギートラッキング**: 日々の活力レベルの記録
- **統計表示**: タスク完了率や習慣の連続記録

### 今後実装予定の機能
- **エネルギー推移グラフ拡大**: 

## 🔄 最近の更新

### v1.5.4 (2025-01-10) - タスクカード連続表示の最適化 📏
**変数制御によるギャップ調整機能の実装**

#### ✨ 新機能
- **ギャップ変数制御**: `TASK_GAP = 2` でタスクカード間の隙間をピクセル単位で調整可能
- **連続タスク最適化**: 10:00-11:00と11:00-12:00のようなタスクがぴたりと連続表示
- **柔軟な調整設定**: GAP値を変更することで、隙間なし（0px）から明確な分離（3px+）まで対応

#### 🔧 技術実装
- **高さ計算の改良**: `taskHeight = (endMinutes - startMinutes) * PIXELS_PER_MINUTE - TASK_GAP`
- **最小高さ保証**: `Math.max(taskHeight, 60 - TASK_GAP)` で可読性を維持
- **CSS整理**: `margin-bottom` による固定8pxギャップを削除し、変数制御に統一
- **レスポンシブ対応**: モバイル表示でも同様のGAP制御を適用

#### 🎯 効果
- **視認性向上**: 連続するタスクが自然に繋がって表示されるため、時間の流れが直感的
- **カスタマイズ性**: 開発者やユーザーの好みに応じてギャップ量を調整可能
- **保守性向上**: 一箇所の定数変更ですべてのタスクカード間隔を制御
- **重なり防止**: 適切なギャップにより、タスクカード同士の重なりを完全に防止

#### 💡 使用方法
```typescript
// Timeline.tsx 内で調整可能
const TASK_GAP = 2;  // 2px の微妙な隙間
const TASK_GAP = 0;  // 完全に連続表示
const TASK_GAP = 4;  // 明確な分離表示
```

### v1.5.3 (2025-01-10) - 拡張キーボードショートカット機能の削除 ⌨️
**シンプルな操作体験への回帰**

#### 🗑️ 削除された機能
- **拡張キーボードショートカット**: 30+のショートカット機能を全て削除
- **shortcutCallbacksオブジェクト**: 全てのショートカットコールバック関数を削除
- **useEnhancedKeyboardShortcutsフック**: カスタムフック全体を削除
- **キーボードヘルプ機能**: Ctrl+Shift+? でのヘルプ表示機能を削除

#### 🎯 残存機能（影響を受けない）
- **基本的なブラウザ操作**: Ctrl+R（リロード）、F5（更新）などの標準操作は継続
- **フォーム内操作**: Tabキー、Enterキーなどの基本的なナビゲーション
- **パーソナライゼーション設定**: keyboardNavigationオプションは残存（将来の基本機能用）

#### 🔧 技術的変更
- **useEnhancedKeyboardShortcuts.tsファイル削除**: カスタムフック全体を削除
- **App.tsxクリーンアップ**: インポート、callbacks定義、フック呼び出しを削除
- **README.md更新**: 拡張ショートカット関連のドキュメントを削除
- **型定義整理**: 不要なショートカット関連の型定義を整理

#### 💡 削除理由
- ユーザーからの要望によるシンプル化
- 複雑なショートカット体系よりも直感的なマウス/タッチ操作を重視
- 機能の集約により、コードベースの保守性を向上
- 新規ユーザーの学習コストを削減

#### 🚀 今後の方針
- マウス/タッチベースの直感的操作に集中
- 必要に応じて個別の基本的なショートカットを段階的に追加
- ユーザビリティを重視したシンプルなインターフェース維持

### v1.5.2 (2025-01-10) - パーソナライゼーション設定のシンプル化 🎨
**テーマ設定機能の削除による機能の集約**

#### 🗑️ 削除された機能
- **テーマ設定**: ライト・ダーク・自動テーマ切り替え機能を削除
- **アクセントカラー設定**: カスタムカラー選択機能を削除  
- **フォントサイズ設定**: 文字サイズ調整機能を削除
- **ハイコントラスト設定**: アクセシビリティオプションを削除

#### ✨ 残存機能（引き続き利用可能）
- **表示設定**: 完了タスク表示・エネルギーレベル表示・コンパクトモード・アニメーション
- **通知設定**: 音声・タスクリマインダー・エネルギーリマインダー
- **作業設定**: デフォルトタスク時間・作業時間帯設定
- **アクセシビリティ**: モーション軽減・スクリーンリーダー最適化・キーボードナビゲーション

#### 🔧 変更点
- **PersonalizationSettingsインターフェース更新**: テーマ関連プロパティを削除
- **App.tsxのデフォルト値更新**: テーマ設定を除いた初期設定
- **UI簡素化**: パーソナライゼーション設定画面からテーマセクション削除
- **不要インポート削除**: 使用されなくなったアイコンやコンポーネントを整理

#### 💡 理由
- ユーザーからの要望により、シンプルな設定画面を実現
- 既存のテーマシステム（useThemeフック）は完全に機能しているため、設定UI のみを削除
- 機能の集約により、設定画面の使いやすさを向上

### v1.5.1 (2025-01-10) - 日付・時間編集機能の強化 ⏰
**右クリックメニューから日付と時間を同時に変更可能に**

#### 🌟 新機能
- **統合編集モーダル**: 右クリックメニューから「日付・時間を変更」を選択
- **リアルタイムプレビュー**: 変更内容と所要時間をリアルタイム表示
- **入力値検証**: 終了時間が開始時間より早い場合の警告
- **現在設定表示**: 変更前の設定を確認しながら編集
- **キーボードショートカット**: Enter（保存）・Escape（キャンセル）対応

#### 🎯 使用方法
1. タスクカードを右クリック
2. 「日付・時間を変更」を選択
3. モーダルで日付・開始時間・終了時間を編集
4. プレビューで確認後「保存」ボタンをクリック

#### 🔧 技術実装
- React状態管理によるモーダル制御
- date-fnsライブラリでの日付フォーマット
- バリデーション機能付き入力フィールド
- 所要時間の自動計算・表示

### v1.5.0 (2025-01-10) - 無限スクロールタイムライン 🔄
**縦スクロールで連続する日付移動を実現**

#### 🌟 主要な変更点

##### 1. 🔄 無限スクロールタイムライン
- **縦スクロールで日付移動**: 上にスクロールすると前日、下にスクロールすると翌日が自動的に読み込まれる
- **連続する時間軸**: 日付の境界を意識せずに自然なスケジュール確認が可能
- **スマートデータロード**: 見えている範囲+前後1日のデータのみをメモリに保持
- **リアルタイム日付更新**: スクロール位置に応じて現在の中心日付が自動更新
- **「今日に戻る」ボタン**: いつでもワンクリックで今日の日付にジャンプ

##### 2. 🗑️ スマート提案機能の削除
- **シンプル化**: ユーザーからの要望により、スマート提案システムを削除
- **集中力向上**: 余計な提案に気を取られることなく、タスクに集中可能
- **パフォーマンス向上**: 不要な計算処理を削除してアプリの動作を軽量化

##### 3. 📅 日付ナビゲーションの最適化
- **従来のボタン式ナビゲーション削除**: 前日・翌日ボタンが不要になったため削除
- **統計情報の改善**: 全タスクの統計（完了数、未完了数）を表示
- **クリーンなUI**: よりシンプルで直感的なインターフェース

#### 🎯 使用方法
1. **縦スクロール**: マウスホイールやトラックパッドで上下にスクロール
2. **前日表示**: タイムラインの最上部まで到達すると前日が自動追加
3. **翌日表示**: タイムラインの最下部まで到達すると翌日が自動追加
4. **今日に戻る**: ヘッダーの「今日に戻る」ボタンをクリック

#### 🔧 技術実装
- **無限スクロール**: Intersection Observer APIを使用した効率的なスクロール監視
- **メモリ最適化**: 表示範囲外のデータを適切に管理してメモリ使用量を制御
- **スムーズスクロール**: デバウンス処理によりスクロール体験を最適化
- **日付計算**: date-fnsライブラリを使用した正確な日付操作

### v1.4.0 (2025-01-10) - UX体験向上パッケージ
**包括的なユーザーエクスペリエンス改善実装**

#### 🎯 オンボーディング体験
- **初回起動時ガイドツアー**: 5ステップの段階的機能紹介システム
- **プログレスバー**: 視覚的な進行状況表示と完了率計算
- **スキップ・戻る機能**: ユーザーのペースに合わせた柔軟なナビゲーション
- **アニメーション効果**: スムーズなトランジションとエンゲージメント向上

#### 🔄 アンドゥ/リドゥ機能
- **操作履歴管理**: 最大50件の操作履歴をメモリ効率的に保存
- **スマート差分検出**: 同一状態の重複記録を防ぎ、履歴容量を最適化
- **キーボードショートカット**: Ctrl+Z/Ctrl+Y対応でPCライクな操作感

#### 💬 フィードバックシステム
- **4段階通知**: 成功・エラー・警告・情報の色分け表示
- **アクション連携**: 元に戻すボタンとカスタムアクション対応
- **自動消去タイマー**: 5-10秒の自動フェードアウト機能
- **アニメーション**: スライドイン・スケールアニメーションでリッチな表現

#### 🧠 スマート提案システム
- **時間帯別最適化**: 午前中の集中時間・午後の休憩提案
- **エネルギーレベル連動**: 低エネルギー時の回復アクション提案
- **作業効率分析**: 完了率80%超で新チャレンジ、30%未満で見直し提案
- **習慣化サポート**: 習慣タスクゼロ時の継続可能な提案
- **週次レビュー**: 週間完了率70%超で来週計画提案

#### 🎨 パーソナライゼーション設定
- **外観カスタマイズ**: ライト・ダーク・自動テーマ + 6色アクセントカラー
- **表示オプション**: 完了タスク・エネルギーレベル・コンパクトモード・アニメーション
- **アクセシビリティ**: モーション軽減・スクリーンリーダー最適化・ハイコントラスト
- **作業時間設定**: 開始・終了時刻設定とデフォルトタスク時間

#### 🎯 ホバー・クリック・ドラッグの洗練
- **強化ホバー**: 遅延表示・4方向配置・矢印付きツールチップ
- **リップルエフェクト**: クリック位置からの波紋アニメーション
- **ドラッグガイド**: マウス追従ガイド・グリッドライン・ドロップゾーン表示
- **視覚的フィードバック**: 操作種別に応じたアイコンとメッセージ表示

#### 🚀 操作フロー最適化
- **ワンクリック操作**: 主要機能への直接アクセス
- **コンテキスト対応**: 時間・状況に応じた動的な操作提案
- **エラー予防**: 親切なエラーメッセージと修正提案
- **設定・ヘルプボタン**: 画面右下の固定アクセス

#### 🔧 技術実装詳細
- **新規コンポーネント**: 6個の専用UIコンポーネント
- **カスタムフック**: useUndoRedo, useFeedback
- **LocalStorage活用**: 設定とオンボーディング状態の永続化
- **型安全性**: TypeScript完全対応とエラー処理強化
- **パフォーマンス**: メモ化とコールバック最適化

### v1.3.2 (2025-01-10) - 固定時刻表示とエネルギートラッカーリサイズ
**UI改善とユーザビリティ向上**
- **固定時刻表示**: 画面中央上部に現在時刻を固定表示（日付・曜日付き）
- **リアルタイム更新**: 1秒ごとの時刻更新で常に正確な時間を表示
- **エネルギートラッカーリサイズ**: 上下ドラッグでウィンドウ高さを200-600pxの範囲で調整可能
- **ドラッグハンドル**: 直感的なリサイズ操作のためのグリップアイコン付きハンドル
- **不要メッセージ削除**: 「今日のタスクは完了です」メッセージを削除

### v1.3.1 (2025-01-10) - 右クリックコンテキストメニュー追加
**タスクカード操作の利便性向上**
- **右クリックメニュー**: タスクカードを右クリックで操作メニューを表示
- **タスク名変更**: モーダルダイアログでのインライン編集
- **日付変更**: カレンダー入力での日付変更機能
- **削除機能**: 確認ダイアログ付きの安全な削除
- **直感的UI**: アイコン付きメニューで操作を分かりやすく表示

### v1.3.0 (2025-01-10) - 6段階機能強化完了
**包括的タスク管理システムの実装**

#### ✨ Phase 1: 空き時間の明確化（FreeTimeIndicator）
- **リアルタイム空き時間検出**: タスク間の隙間時間を自動検出・可視化
- **活用提案システム**: 空き時間の長さに応じた具体的なアクション提案
- **次タスク情報表示**: 絵文字・タイトル・開始時刻の一体表示
- **直感的UI**: グラデーション・アニメーション効果で状況を可視化

#### ⏰ Phase 2: 残り時間のリアルタイム表示強化
- **アクティブタスク追跡**: 進行中タスクの残り時間と進行率をリアルタイム表示
- **状態判定システム**: waiting/active/overdue/completedの動的な状態管理
- **次タスク予告**: 完了済みタスクに次のタスクまでの時間を表示
- **視覚的フィードバック**: タスクカード内の残り時間表示とプログレスバー

#### 🔄 Phase 3: 自動調整機能
- **遅延検出システム**: 15分以上の遅延を検出し後続タスクの調整提案
- **早期完了最適化**: 時間の節約を次のタスクに活用する提案
- **時間競合解決**: タスク重複の自動検出と調整提案
- **バッファ時間最適化**: 30分以上の空き時間の有効活用提案
- **自動適用モード**: 軽微な調整の自動実行機能

#### 🔔 Phase 4: 通知システム
- **マルチタイミング通知**: タスク開始5分前・開始時刻・終了時刻・15分遅延の段階的通知
- **休憩リマインダー**: 90分連続作業後の休憩提案
- **音声+ブラウザ通知**: Web Audio APIとNotification APIの連携
- **アクション対応**: 延期・スキップ・調整などの直接操作ボタン
- **通知設定**: 音声・表示の個別ON/OFF切り替え

#### 🔁 Phase 5: 繰り返しタスク設定
- **柔軟な繰り返しパターン**: 日次・週次・月次の設定
- **曜日指定機能**: 特定の曜日のみ実行する設定
- **カテゴリ別管理**: 健康・仕事・学習・運動・個人の分類
- **ストリーク追跡**: 連続記録の可視化と習慣化サポート
- **テンプレートシステム**: 朝の瞑想・運動・読書・週次レビュー・掃除の事前設定

#### 🎯 Phase 6: 1日集中設計（週間ビュー削除）
- **シンプル日付ナビゲーション**: 週間カレンダーを廃止し前日・今日・翌日の3ボタン式に変更
- **1日集中UI**: 選択した日のタスクに完全フォーカス
- **タスク概要表示**: 全タスク数・完了数・進行中タスク数の即座把握
- **クリーンインターフェース**: 不要な要素を削除しモバイル最適化
- **高速日付切り替え**: ストレスフリーな日付間移動

#### 🔧 技術実装詳細
- **新規コンポーネント**: `FreeTimeIndicator.tsx`, `AutoAdjustment.tsx`
- **リアルタイム更新**: 1-30秒間隔での状態監視システム
- **LocalStorage活用**: 繰り返しパターンとユーザー設定の永続化
- **型安全性強化**: TypeScript型定義の拡張
- **パフォーマンス最適化**: useMemoとuseCallbackによる効率化
- **アクセシビリティ**: WCAG準拠の色彩設計とキーボード操作対応

### v1.2.14 (2024-12-20)
**UI視認性向上とワンクリック起動**
- **タスクカードの視認性大幅改善**:
  - 背景色の透明度を調整し、テキストコントラストを向上
  - ボーダーとシャドウを強化して、カード境界を明確化
  - 状態別色分け（待機・進行中・完了・遅延）を実装
- **時間軸の可読性向上**:
  - フォントサイズを14px→16pxに拡大
  - フォントウェイトを600に強化してより読みやすく
  - 時間ラベルに背景色とボーダーを追加
- **現在時刻インジケーター追加**:
  - リアルタイムで現在時刻を示すオレンジ色のライン表示
  - 円形インジケーターで現在位置を明確に表示
- **ワンクリック起動機能**:
  - `🚀 Taskun起動.bat`ファイルを追加
  - 依存関係の自動チェックとインストール
  - エラーハンドリングと使用方法ガイド付き

### v1.2.13 (2024-12-20)
**ビルドエラー修正とESM対応**
- **Vite ESMエラーの修正**:
  - `require()`をES Modulesから削除し、PostCSS設定を分離
  - `tailwindcss-animate`をESM形式でインポート
  - 設定ファイルの重複を解消
- **CSS未定義クラスの修正**:
  - `@apply bg-primary-50`等の未定義Tailwindクラスを削除
  - 直接的なCSS記述に変更してビルドエラーを解決
  - カスタムCSS変数を活用した安定した実装
- **設定ファイルの最適化**:
  - PostCSS設定とVite設定の適切な分離
  - ESM/CJS混在問題の解決
  - プロダクションビルドの安定性向上

### v1.2.12: ビルドエラー修正とデプロイメント安定化
**更新日**: 2025年1月10日

#### 🔧 技術的修正
- **Tailwind任意値記法の修正**:
  - `border-l-[6px]` 等の任意値記法をSVGアイコンに置き換えました。
  - ビルド時のCSS生成エラーを解決し、プロダクション環境での安定性を向上させました。
- **Tailwind設定の最適化**:
  - `safelist` 設定を追加し、動的に生成されるクラスの保護を強化しました。
  - タイムライン関連のカスタムクラスを明示的に保護対象に追加しました。
- **Vite設定の改善**:
  - CSS分割を無効化してビルドエラーを回避しました。
  - PostCSS設定を明示的に追加し、Tailwind処理を安定化させました。
  - チャンク分割を最適化してバンドルサイズを改善しました。

#### ✨ UI改善
- **アイコンの品質向上**:
  - CSS三角形からSVGアイコンに変更し、より鮮明で一貫した表示を実現しました。
  - 再生・一時停止アイコンの視認性を大幅に改善しました。

#### 🐛 解決した問題
- GitHub Actionsでのビルド失敗問題
- Tailwind CSSの任意値記法に関するビルドエラー
- プロダクション環境でのCSS生成問題
- デプロイメント時のアセット最適化問題

### v1.2.11: 色覚バリアフリー対応メッセージカード風UI
**更新日**: 2025年1月10日

#### ✨ 機能改善
- **色覚多様性への配慮**:
  - 緑/赤の色分けから、オレンジ/ブルー/パープル/グレーの4色システムに変更しました。
  - 色だけでなくアイコンでも状態を表現（▶進行中、✓完了、⏸時間経過、○待機中）。
  - 高コントラスト配色で視認性を大幅に向上させました。

#### 🎨 UI/UX改善
- **メッセージカード風デザイン**:
  - 時刻を独立したバッジとして上部に表示し、重複問題を解決しました。
  - ステータスアイコンを左側に配置し、一目で状態を把握できるようになりました。
  - カード全体をより読みやすいレイアウトに再設計しました。
- **情報の階層化**:
  - タスクタイトル、実行時間、ステータスを明確に分離表示。
  - チェックボタンを右端に配置し、操作しやすい位置に移動しました。

#### 🔧 技術的改善
- **アクセシビリティ強化**: WCAG準拠の色彩設計とコントラスト比を確保しました。
- **レスポンシブ対応**: 狭い画面でも情報が適切に表示されるよう最適化しました。
- **CSS最適化**: Tailwind CSSを活用した効率的なスタイリングに変更しました。

#### 🐛 解決した問題
- 色覚多様性のあるユーザーにとって区別が困難だった緑/赤の配色問題
- 時刻表示がカード内容と重複して読みづらい問題
- ステータスが色のみで判別困難だった問題
- カード内の情報が整理されていない問題

### v1.2.10: タイムライン表示とz-index競合の改善
**更新日**: 2025年1月10日

#### ✨ 機能改善
- **z-index競合の解決**:
  - タスクカード間の重なり順序を適切に管理し、スクロール時にカード同士が競合しないようになりました。
  - ホバー時、アクティブ時、ドラッグ時、完了時それぞれに適切なz-index値を設定しました。

#### 🎨 UI/UX改善
- **カード間隔の統一**:
  - PC表示で12px、モバイル表示で8pxのカード間隔を統一しました。
  - レスポンシブデザインで画面サイズに応じて最適な間隔を提供します。
- **時刻軸との衝突防止**:
  - タイムライン側の時刻表示とタスクカードがぶつからないよう、16px（モバイルは12px）の左パディングを追加しました。
  - タスクカードと時間軸の視覚的分離を明確化しました。

#### 🔧 技術的改善
- **CSS階層管理**: 新しいCSSクラス（`timeline-task-container`, `timeline-task-card`等）を追加し、z-index管理を体系化しました。
- **ドラッグ体験向上**: ドラッグ中は他のカードの透明度を調整し、操作対象を明確化しました。
- **レスポンシブ最適化**: モバイル環境でのタッチ操作とカード表示を最適化しました。

#### 🐛 解決した問題
- タスクカード同士が重なって操作しづらい問題
- 時刻軸とタスクカードが視覚的に重複する問題
- スクロール時のz-index競合による表示の乱れ
- モバイル表示でのカード間隔の不統一

### v1.2.9: タスクカードの表示改善（最小高さ保証）
**更新日**: 2025年1月10日

#### ✨ 機能改善
- **短いタスクでも常に読めるサイズを確保**:
  - 15分や30分などの短いタスクでも、最低60px（約2行分）の高さを保証するようになりました。
  - これにより、タスクのタイトルが常に視認可能になり、ホバーしなくても内容が確認できます。

#### 🎨 UI/UX改善
- **2行タイトル表示**: 
  - タスクタイトルが2行まで表示可能になり、長いタスク名でも省略されすぎることがなくなりました。
  - `line-clamp-2`を使用してエレガントな省略表示を実装しました。
- **レイアウト最適化**:
  - チェックボタンを右上に固定配置し、タイトルとの重複を防止しました。
  - 時間表示とタイトル表示を適切に分離し、情報の階層を明確化しました。
  - 横幅が狭いタスクでも必要な情報が見えるよう、パディングと配置を調整しました。

#### 🔧 技術的改善
- **高さ計算ロジック**: 実時間ベースの高さは維持しつつ、最小高さ（60px）を保証する計算式に改善しました。
- **CSS最適化**: `WebkitLineClamp`を使用したマルチライン省略表示で、ブラウザ互換性を確保しました。
- **レスポンシブ対応**: 狭いタスク幅でも読みやすいよう、フォントサイズとスペーシングを動的に調整します。

#### 🐛 解決した問題
- 短時間（15分〜30分）のタスクでタイトルが潰れて読めない問題
- ホバーしないとタスク内容が確認できない問題
- タスクカード内の要素が重複して表示される問題

### v1.2.8: 検索機能の削除とUIのシンプル化
**更新日**: 2025年1月10日

#### ✨ 機能改善
- **検索機能の完全削除**:
  - アプリケーションから検索機能を完全に削除し、UIをよりシンプルで直感的にしました。
  - ヘッダーから検索アイコンを削除し、関連するコンポーネント (`SearchFilter.tsx`) と状態管理ロジックも全てクリーンアップしました。

#### 🎨 技術的改善
- **コードのクリーンアップ**: 不要になった`SearchFilter.tsx`コンポーネントと関連する状態管理 (`showSearch`, `filteredTasks`) を`App.tsx`から削除し、コードベースを軽量化しました。
- **アイコンの整理**: `lucide-react`からのインポート文を整理し、不要なアイコンを削除しました。

#### 🐛 解決した問題
- 不要な機能（検索）がUIを複雑にしていた問題。

### v1.2.7: タスクの重なり表示改善
**更新日**: 2025年1月9日

#### ✨ 機能改善
- **タスクの重なり表示を改善**:
  - 同じ時間帯に複数のタスクが存在する場合でも、タスクが重ならずに並列で表示されるようになりました。
  - `calculateOverlappingLayout`ユーティリティを新規に作成し、タスクの`left`と`width`を動的に計算します。
  - これにより、タイムラインの視認性が大幅に向上し、過密なスケジュールでもタスクを明確に把握できます。

#### 🎨 技術的改善
- **レイアウト計算ロジック**: `src/utils/layoutUtils.ts`を新設し、高度なレイアウト計算ロジックを実装しました。
- **コンポーネントの最適化**: `Timeline.tsx`にレイアウトロジックを統合し、`useMemo`フックでパフォーマンスを最適化しました。
- **UI調整**: 重なったタスクが見やすくなるように、タスクカードのパディングやフォントサイズなどのスタイルを微調整しました。

#### 🐛 解決した問題
- 複数のタスクが同じ時間帯にある場合に、表示が重なってしまい、後ろのタスクが見えなくなる・操作できなくなる問題。

### v1.2.6: タイムライン表示の改善と無限スクロール実装
**更新日**: 2025年1月8日

#### ✨ 新機能
- **無限スクロール機能**:
  - タイムラインを下にスクロールすると、自動的に次の日のスケジュールが読み込まれます。
  - `Intersection Observer API` を活用し、スムーズな日付遷移を実現しました。
  - これにより、週や月をまたいでシームレスにスケジュールを確認できます。

#### 🔧 修正内容
- **タスク表示の縦幅の不整合を修正**:
  - タスクに設定された時間と、タイムライン上での視覚的な縦幅が正確に一致するように修正しました。
  - `timeToMinutes` ユーティリティを使用し、分単位での精密な高さ計算を実装しました。
  - 時間あたりのピクセル数を定数として管理することで、一貫性のある表示を保証します。

#### 🎨 技術的改善
- **リファクタリング**: `Timeline.tsx` の高さ計算ロジックをリファクタリングし、可読性と保守性を向上させました。
- **Props整理**: 不要になった `onTaskEdit` と `onTaskReplan` プロパティを `Timeline` コンポーネントから削除しました。
- **パフォーマンス**: `useRef` を使用して不要な再レンダリングを避け、スクロール時のパフォーマンスを最適化しました。

#### 🐛 解決した問題
- タスクの開始・終了時間と、タイムライン上の表示高さが一致しない問題。
- 複数日タスクの表示が不正確になることがある問題。

### v1.2.5: 重要なバグ修正とエネルギートラッキング改善
**更新日**: 2025年1月7日

- **エネルギーレベル記録機能の修正**: 
  - `crypto.randomUUID()`の互換性問題を解決
  - より互換性のあるID生成方式に変更
  - デバッグログを追加してエネルギー記録プロセスを可視化
  - LocalStorage保存の安定性を向上

- **日をまたぐタスク表示の修正**: 
  - Timeline.tsxで複数日タスクセグメントを適切に処理
  - `taskSegments`配列を活用した正確な表示ロジック
  - TaskWithSegment型を定義して型安全性を確保
  - セグメント固有のキー使用により重複表示を防止
  - 日をまたぐタスクが各日に適切なセグメントとして表示されるように改善

- **技術的改善**: 
  - TypeScript型定義の強化
  - React useMemoを活用したパフォーマンス最適化
  - 複数日タスクの時間計算ロジック改善
  - エラーハンドリングの強化

- **解決した問題**: 
  - エネルギーレベルがスライダーやボタンで記録されない問題
  - 日をまたぐタスク（23:00-02:00など）の表示が正しくない問題
  - 複数日タスクのセグメント表示の不具合
  - ブラウザ互換性に関する問題

### v1.2.4 - 集中モード削除（2024年12月28日）
- **集中モード機能削除**: よりシンプルなタスク管理に集中するため、集中モード（フォーカスモード）機能を削除
- **コード簡素化**: 
  - `FocusMode.tsx`コンポーネント削除
  - App.tsxから関連する状態管理と関数削除
  - Timeline.tsxからonTaskFocusプロパティ削除
- **UI最適化**: 不要な機能を削除することで、よりシンプルで使いやすいインターフェースに改善
- **影響範囲**: 
  - `src/components/FocusMode/`ディレクトリ削除
  - `App.tsx`のhandleTaskFocus、handleUpdateSubtask関数削除
  - `Timeline.tsx`のTimelinePropsインターフェース最適化

### v1.2.3 - タスク追加UI改善（2024年12月28日）
- **日時設定の統合**: 独立していた日付設定を時間設定に統合し、より直感的なUIに改善
- **Todoリスト機能追加**: 
  - 📝 タスク待機リスト機能を新規実装
  - 優先度管理（緊急🔥、高⚡、中📝、低📋）
  - 複数選択でスケジュールに一括変換
  - ヘッダーツールバーの📝ボタンでアクセス
- **UI最適化**: 
  - 「時間設定」→「日時設定」にラベル変更
  - 開始日・開始時刻を並列配置
  - 「今日」ボタンと「現在時刻」ボタンを並列配置
  - フォーム項目の整理とスペース最適化
- **操作性向上**: 日付と時間を同じセクションで設定できるようになり、操作が簡素化
- **影響範囲**: 
  - `QuickAdd.tsx`コンポーネントのUI構造改善
  - `useTodos.ts`フック新規作成
  - `App.tsx`にTodoリスト機能統合
  - `types/index.ts`にTodoItem型追加

### v1.2.2 - タスク追加機能強化（2024年12月28日）
- **15分刻み時間設定機能追加**: QuickAddコンポーネントで15分単位の詳細な時間設定が可能に
- **タスク日付選択機能追加**: 特定の日付を指定してタスクを作成できる機能を実装
- **UI改善**: 
  - time inputからselectボックスに変更し、15分刻みの時間選択肢を提供
  - 日付選択フィールドを基本設定に追加
  - リアルタイムプレビュー機能でタスク情報を即座に確認可能
- **日をまたぐタスク対応強化**: 
  - 設定した日付に基づく翌日計算の修正
  - 詳細設定での複数日タスク表示の改善
  - 終了日の自動計算ロジック強化
- **影響範囲**: 
  - `QuickAdd.tsx`