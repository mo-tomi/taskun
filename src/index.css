@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* 🎨 Modern Color Palette - Harmony & Accessibility */

    /* 背景色 - 段階的なニュートラル */
    --background: 255 255 255;
    /* #ffffff - ピュアホワイト */
    --surface: 250 251 252;
    /* #fafbfc - オフホワイト */
    --surface-variant: 244 246 248;
    /* #f4f6f8 - ライトグレー */
    --foreground: 30 41 59;
    /* #1e293b - リッチブラック */

    /* カード・コンテナ */
    --card: 255 255 255;
    /* #ffffff */
    --card-foreground: 51 65 85;
    /* #334155 */
    --card-border: 228 233 241;
    /* #e4e9f1 */

    /* プライマリカラー - 洗練されたブルー */
    --primary: 37 99 235;
    /* #2563eb - ビビッドブルー */
    --primary-light: 59 130 246;
    /* #3b82f6 - ライトブルー */
    --primary-dark: 29 78 216;
    /* #1d4ed8 - ダークブルー */
    --primary-foreground: 255 255 255;
    /* #ffffff */
    --primary-50: 239 246 255;
    /* #eff6ff */
    --primary-100: 219 234 254;
    /* #dbeafe */

    /* セカンダリカラー - エレガントなパープル */
    --secondary: 139 92 246;
    /* #8b5cf6 - パープル */
    --secondary-light: 167 139 250;
    /* #a78bfa - ライトパープル */
    --secondary-dark: 124 58 237;
    /* #7c3aed - ダークパープル */
    --secondary-foreground: 255 255 255;
    --secondary-50: 245 243 255;
    /* #f5f3ff */
    --secondary-100: 237 233 254;
    /* #ede9fe */

    /* アクセントカラー - 活力のあるオレンジ */
    --accent: 249 115 22;
    /* #f97316 - オレンジ */
    --accent-light: 251 146 60;
    /* #fb923c - ライトオレンジ */
    --accent-dark: 234 88 12;
    /* #ea580c - ダークオレンジ */
    --accent-foreground: 255 255 255;
    --accent-50: 255 247 237;
    /* #fff7ed */
    --accent-100: 254 237 213;
    /* #feedd5 */

    /* ステータスカラー */
    --success: 34 197 94;
    /* #22c55e - グリーン */
    --success-light: 74 222 128;
    /* #4ade80 */
    --success-dark: 21 128 61;
    /* #15803d */
    --success-50: 240 253 244;
    /* #f0fdf4 */

    --warning: 245 158 11;
    /* #f59e0b - アンバー */
    --warning-light: 251 191 36;
    /* #fbbf24 */
    --warning-dark: 217 119 6;
    /* #d97706 */
    --warning-50: 255 251 235;
    /* #fffbeb */

    --error: 239 68 68;
    /* #ef4444 - レッド */
    --error-light: 248 113 113;
    /* #f87171 */
    --error-dark: 220 38 38;
    /* #dc2626 */
    --error-50: 254 242 242;
    /* #fef2f2 */

    /* ニュートラルグレー - 統一されたスケール */
    --neutral-50: 248 250 252;
    /* #f8fafc */
    --neutral-100: 241 245 249;
    /* #f1f5f9 */
    --neutral-200: 226 232 240;
    /* #e2e8f0 */
    --neutral-300: 203 213 225;
    /* #cbd5e1 */
    --neutral-400: 148 163 184;
    /* #94a3b8 */
    --neutral-500: 100 116 139;
    /* #64748b */
    --neutral-600: 71 85 105;
    /* #475569 */
    --neutral-700: 51 65 85;
    /* #334155 */
    --neutral-800: 30 41 59;
    /* #1e293b */
    --neutral-900: 15 23 42;
    /* #0f172a */

    /* ボーダーとインプット */
    --border: 226 232 240;
    /* neutral-200 */
    --border-light: 241 245 249;
    /* neutral-100 */
    --border-strong: 203 213 225;
    /* neutral-300 */
    --input: 226 232 240;
    --ring: 37 99 235;
    /* primary */

    /* エレベーション・シャドウ */
    --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
    --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --shadow-md: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    --shadow-xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);

    /* グラデーション */
    --gradient-primary: linear-gradient(135deg,
        rgb(var(--primary)) 0%,
        rgb(var(--primary-light)) 100%);
    --gradient-secondary: linear-gradient(135deg,
        rgb(var(--secondary)) 0%,
        rgb(var(--secondary-light)) 100%);
    --gradient-accent: linear-gradient(135deg,
        rgb(var(--accent)) 0%,
        rgb(var(--accent-light)) 100%);
    --gradient-surface: linear-gradient(135deg,
        rgb(var(--surface)) 0%,
        rgb(var(--surface-variant)) 100%);

    /* タイポグラフィ強化 */
    --font-display: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
    --font-body: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
    --font-mono: 'JetBrains Mono', 'Fira Code', 'SF Mono', Consolas, monospace;

    /* タイポグラフィスケール（1.25比率） */
    --text-xs: 0.75rem;
    /* 12px */
    --text-sm: 0.875rem;
    /* 14px */
    --text-base: 1rem;
    /* 16px */
    --text-lg: 1.125rem;
    /* 18px */
    --text-xl: 1.25rem;
    /* 20px */
    --text-2xl: 1.5rem;
    /* 24px */
    --text-3xl: 1.875rem;
    /* 30px */
    --text-4xl: 2.25rem;
    /* 36px */
    --text-5xl: 3rem;
    /* 48px */
    --text-6xl: 3.75rem;
    /* 60px */

    /* 行高（Leading） */
    --leading-none: 1;
    --leading-tight: 1.25;
    --leading-snug: 1.375;
    --leading-normal: 1.5;
    --leading-relaxed: 1.625;
    --leading-loose: 2;

    /* 間隔システム（8ptグリッド） */
    --space-0: 0;
    --space-1: 0.25rem;
    /* 4px */
    --space-2: 0.5rem;
    /* 8px */
    --space-3: 0.75rem;
    /* 12px */
    --space-4: 1rem;
    /* 16px */
    --space-5: 1.25rem;
    /* 20px */
    --space-6: 1.5rem;
    /* 24px */
    --space-8: 2rem;
    /* 32px */
    --space-10: 2.5rem;
    /* 40px */
    --space-12: 3rem;
    /* 48px */
    --space-16: 4rem;
    /* 64px */
    --space-20: 5rem;
    /* 80px */
    --space-24: 6rem;
    /* 96px */

    /* 🌙 ダークモード完全対応 */
    .dark {
      /* ダークモード背景色 */
      --background: 15 23 42;
      /* #0f172a - リッチダークブルー */
      --surface: 30 41 59;
      /* #1e293b - ダークサーフェス */
      --surface-variant: 51 65 85;
      /* #334155 - バリアントサーフェス */
      --foreground: 248 250 252;
      /* #f8fafc - ライトテキスト */

      /* ダークモードカード */
      --card: 30 41 59;
      /* #1e293b */
      --card-foreground: 241 245 249;
      /* #f1f5f9 */
      --card-border: 71 85 105;
      /* #475569 */

      /* ダークモードプライマリ（明度調整） */
      --primary: 59 130 246;
      /* より明るいブルー */
      --primary-light: 96 165 250;
      /* #60a5fa */
      --primary-dark: 37 99 235;
      /* #2563eb */
      --primary-50: 30 41 59;
      /* #1e293b */
      --primary-100: 51 65 85;
      /* #334155 */

      /* ダークモードセカンダリ */
      --secondary: 167 139 250;
      /* より明るいパープル */
      --secondary-light: 196 181 253;
      /* #c4b5fd */
      --secondary-dark: 139 92 246;
      /* #8b5cf6 */
      --secondary-50: 30 41 59;
      /* #1e293b */
      --secondary-100: 51 65 85;
      /* #334155 */

      /* ダークモードアクセント */
      --accent: 251 146 60;
      /* より明るいオレンジ */
      --accent-light: 253 186 116;
      /* #fdba74 */
      --accent-dark: 249 115 22;
      /* #f97316 */
      --accent-50: 30 41 59;
      /* #1e293b */
      --accent-100: 51 65 85;
      /* #334155 */

      /* ダークモードステータス */
      --success: 74 222 128;
      /* #4ade80 */
      --success-light: 134 239 172;
      /* #86efac */
      --success-dark: 34 197 94;
      /* #22c55e */
      --success-50: 30 41 59;
      /* #1e293b */

      --warning: 251 191 36;
      /* #fbbf24 */
      --warning-light: 254 215 170;
      /* #fed7aa */
      --warning-dark: 245 158 11;
      /* #f59e0b */
      --warning-50: 30 41 59;
      /* #1e293b */

      --error: 248 113 113;
      /* #f87171 */
      --error-light: 252 165 165;
      /* #fca5a5 */
      --error-dark: 239 68 68;
      /* #ef4444 */
      --error-50: 30 41 59;
      /* #1e293b */

      /* ダークモードニュートラル（反転） */
      --neutral-50: 15 23 42;
      /* #0f172a */
      --neutral-100: 30 41 59;
      /* #1e293b */
      --neutral-200: 51 65 85;
      /* #334155 */
      --neutral-300: 71 85 105;
      /* #475569 */
      --neutral-400: 100 116 139;
      /* #64748b */
      --neutral-500: 148 163 184;
      /* #94a3b8 */
      --neutral-600: 203 213 225;
      /* #cbd5e1 */
      --neutral-700: 226 232 240;
      /* #e2e8f0 */
      --neutral-800: 241 245 249;
      /* #f1f5f9 */
      --neutral-900: 248 250 252;
      /* #f8fafc */

      /* ダークモードボーダー */
      --border: 71 85 105;
      /* #475569 */
      --border-light: 51 65 85;
      /* #334155 */
      --border-strong: 100 116 139;
      /* #64748b */
      --input: 71 85 105;
      /* #475569 */

      /* ダークモードシャドウ（より強め） */
      --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
      --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.4), 0 1px 2px 0 rgba(0, 0, 0, 0.3);
      --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.3);
      --shadow-md: 0 10px 15px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -2px rgba(0, 0, 0, 0.3);
      --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.5), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
      --shadow-xl: 0 25px 50px -12px rgba(0, 0, 0, 0.7);
    }

    /* 🎨 ベースフォントの適用 */
    * {
      border-color: rgb(var(--border));
    }

    html {
      font-family: var(--font-body);
      scroll-behavior: smooth;
    }

    body {
      background-color: rgb(var(--background));
      color: rgb(var(--foreground));
      font-feature-settings: "cv02", "cv03", "cv04", "cv11";
      font-variation-settings: "opsz" auto;
      text-rendering: optimizeLegibility;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* 🎯 タイポグラフィシステム強化 */
    .typography-display-1 {
      font-size: var(--text-6xl);
      line-height: var(--leading-tight);
      font-weight: 800;
      letter-spacing: -0.05em;
    }

    .typography-display-2 {
      font-size: var(--text-5xl);
      line-height: var(--leading-tight);
      font-weight: 700;
      letter-spacing: -0.04em;
    }

    .typography-h1 {
      font-size: var(--text-4xl);
      line-height: var(--leading-tight);
      font-weight: 700;
      letter-spacing: -0.03em;
    }

    .typography-h2 {
      font-size: var(--text-3xl);
      line-height: var(--leading-snug);
      font-weight: 600;
      letter-spacing: -0.02em;
    }

    .typography-h3 {
      font-size: var(--text-2xl);
      line-height: var(--leading-snug);
      font-weight: 600;
      letter-spacing: -0.01em;
    }

    .typography-h4 {
      font-size: var(--text-xl);
      line-height: var(--leading-normal);
      font-weight: 600;
    }

    .typography-h5 {
      font-size: var(--text-lg);
      line-height: var(--leading-normal);
      font-weight: 500;
    }

    .typography-h6 {
      font-size: var(--text-base);
      line-height: var(--leading-normal);
      font-weight: 500;
    }

    .typography-body-large {
      font-size: var(--text-lg);
      line-height: var(--leading-relaxed);
      font-weight: 400;
    }

    .typography-body {
      font-size: var(--text-base);
      line-height: var(--leading-normal);
      font-weight: 400;
    }

    .typography-body-small {
      font-size: var(--text-sm);
      line-height: var(--leading-normal);
      font-weight: 400;
    }

    .typography-caption {
      font-size: var(--text-xs);
      line-height: var(--leading-normal);
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .typography-mono {
      font-family: var(--font-mono);
      font-size: var(--text-sm);
      line-height: var(--leading-normal);
    }

    /* ✨ 高度なアニメーション */
    .animate-bounce-gentle {
      animation: bounceGentle 2s ease-in-out infinite;
    }

    .animate-fade-in {
      animation: fadeIn 0.3s ease-out;
    }

    .animate-slide-up {
      animation: slideUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .animate-scale-in {
      animation: scaleIn 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .animate-slide-in-left {
      animation: slideInLeft 0.3s ease-out;
    }

    .animate-slide-in-right {
      animation: slideInRight 0.3s ease-out;
    }

    .animate-rotate-in {
      animation: rotateIn 0.5s ease-out;
    }

    .animate-float {
      animation: float 3s ease-in-out infinite;
    }

    /* キーフレーム定義 */
    @keyframes bounceGentle {

      0%,
      100% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-4px);
      }
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(16px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes slideInLeft {
      from {
        opacity: 0;
        transform: translateX(-20px);
      }

      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    @keyframes slideInRight {
      from {
        opacity: 0;
        transform: translateX(20px);
      }

      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    @keyframes scaleIn {
      from {
        opacity: 0;
        transform: scale(0.95);
      }

      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    @keyframes rotateIn {
      from {
        opacity: 0;
        transform: rotate(-10deg) scale(0.9);
      }

      to {
        opacity: 1;
        transform: rotate(0deg) scale(1);
      }
    }

    @keyframes float {

      0%,
      100% {
        transform: translateY(0px);
      }

      50% {
        transform: translateY(-6px);
      }
    }

    @keyframes pulse-glow {

      0%,
      100% {
        box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.4);
      }

      50% {
        box-shadow: 0 0 0 8px rgba(59, 130, 246, 0);
      }
    }

    /* ボタンのベーススタイル - アニメーション強化 */
    .btn-primary {
      @apply relative font-medium px-6 py-3 rounded-lg;
      @apply focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2;
      @apply transform transition-all duration-200 ease-in-out;
      @apply hover:scale-105 hover:shadow-lg active:scale-95;
      background: rgb(var(--primary));
      color: rgb(var(--primary-foreground));
    }

    .btn-primary:hover {
      background: rgb(var(--primary-dark));
      box-shadow: var(--shadow-lg);
    }

    .btn-primary:active {
      transform: scale(0.98);
    }

    .btn-secondary {
      @apply relative font-medium px-6 py-3 rounded-lg;
      @apply border focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2;
      @apply transform transition-all duration-200 ease-in-out;
      @apply hover:scale-105 hover:shadow-md active:scale-95;
      background: rgb(var(--surface));
      color: rgb(var(--neutral-700));
      border-color: rgb(var(--border));
    }

    .btn-secondary:hover {
      background: rgb(var(--neutral-50));
      border-color: rgb(var(--border-strong));
      box-shadow: var(--shadow-md);
    }

    /* アクセントボタン */
    .btn-accent {
      @apply relative text-white font-medium px-6 py-3 rounded-lg;
      @apply focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2;
      @apply transform transition-all duration-200 ease-in-out;
      @apply hover:scale-105 hover:shadow-lg active:scale-95;
      background: var(--gradient-accent);
      color: rgb(var(--accent-foreground));
    }

    /* カードスタイル - アニメーション強化 */
    .card-elevated {
      @apply rounded-xl border;
      @apply transform transition-all duration-300 ease-in-out;
      @apply hover:shadow-lg hover:-translate-y-1;
      background: rgb(var(--card));
      border-color: rgb(var(--card-border));
      box-shadow: var(--shadow-sm);
    }

    .card-elevated:hover {
      box-shadow: var(--shadow-lg);
      transform: translateY(-2px);
      border-color: rgb(var(--border-strong));
    }

    /* インタラクティブカード */
    .card-interactive {
      @apply card-elevated cursor-pointer;
      @apply hover:scale-[1.02] active:scale-[0.98];
    }

    /* タスクアイテムスタイル - アニメーション強化 */
    .task-item {
      @apply card-elevated p-5 cursor-pointer;
      @apply transform transition-all duration-200 ease-in-out;
      @apply animate-fade-in;
    }

    .task-item:hover {
      border-color: rgb(var(--primary-100));
      background: rgb(var(--primary-50));
      transform: translateY(-1px) scale(1.005);
    }

    .task-item.completed {
      @apply opacity-70;
      background: rgb(var(--neutral-50));
      transform: scale(0.98);
    }

    /* サイドバーアイテム - アニメーション強化 */
    .sidebar-item {
      @apply flex items-center justify-between p-3 rounded-lg cursor-pointer;
      @apply transform transition-all duration-200 ease-in-out;
    }

    .sidebar-item:hover {
      background: rgb(var(--neutral-50));
      transform: translateX(4px) scale(1.02);
    }

    .sidebar-item.active {
      @apply border-l-4;
      background: rgb(var(--primary-50));
      border-left-color: rgb(var(--primary));
      transform: translateX(2px);
    }

    /* プログレス・インジケーター */
    .progress-ring {
      @apply relative inline-block;
    }

    .progress-ring circle {
      transition: stroke-dashoffset 0.35s ease-in-out;
      transform: rotate(-90deg);
      transform-origin: 50% 50%;
    }

    /* ローディングアニメーション */
    .loading-pulse {
      animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }

    .loading-spin {
      animation: spin 1s linear infinite;
    }

    @keyframes pulse {

      0%,
      100% {
        opacity: 1;
      }

      50% {
        opacity: .5;
      }
    }

    @keyframes spin {
      from {
        transform: rotate(0deg);
      }

      to {
        transform: rotate(360deg);
      }
    }

    /* フォーカス・ハイライト */
    .focus-visible {
      @apply outline-none ring-2 ring-primary ring-offset-2;
      animation: pulse-glow 2s infinite;
    }

    /* 🎯 アクセシビリティ強化 */
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    .focus-ring {
      @apply focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2;
    }

    .focus-ring-inset {
      @apply focus:outline-none focus:ring-2 focus:ring-primary focus:ring-inset;
    }

    /* 高コントラストモード対応 */
    @media (prefers-contrast: high) {
      .card-elevated {
        border-width: 2px;
      }

      .btn-primary,
      .btn-secondary,
      .btn-accent {
        border-width: 2px;
        border-style: solid;
      }
    }

    /* 動きを減らす設定への対応 */
    @media (prefers-reduced-motion: reduce) {

      *,
      ::before,
      ::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }

    /* スクロールアニメーション */
    .scroll-reveal {
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.6s ease-out;
    }

    .scroll-reveal.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* ページ遷移アニメーション */
    .page-enter {
      opacity: 0;
      transform: translateY(8px);
    }

    .page-enter-active {
      opacity: 1;
      transform: translateY(0);
      transition: all 300ms ease-out;
    }

    .page-exit {
      opacity: 1;
      transform: translateY(0);
    }

    .page-exit-active {
      opacity: 0;
      transform: translateY(-8px);
      transition: all 200ms ease-in;
    }
  }
}

@layer base {
  * {
    @apply border-border;
  }

  /* 📚 Typography System - Modern & Readable */
  body {
    @apply bg-background text-foreground;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', system-ui, sans-serif;
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
  }

  /* Typography Scale - Modular Scale (1.25 ratio) */
  .text-xs {
    font-size: 0.75rem;
    line-height: 1.5;
  }

  /* 12px */
  .text-sm {
    font-size: 0.875rem;
    line-height: 1.5;
  }

  /* 14px */
  .text-base {
    font-size: 1rem;
    line-height: 1.6;
  }

  /* 16px */
  .text-lg {
    font-size: 1.125rem;
    line-height: 1.6;
  }

  /* 18px */
  .text-xl {
    font-size: 1.25rem;
    line-height: 1.5;
  }

  /* 20px */
  .text-2xl {
    font-size: 1.5rem;
    line-height: 1.4;
  }

  /* 24px */
  .text-3xl {
    font-size: 1.875rem;
    line-height: 1.3;
  }

  /* 30px */
  .text-4xl {
    font-size: 2.25rem;
    line-height: 1.2;
  }

  /* 36px */
  .text-5xl {
    font-size: 3rem;
    line-height: 1.1;
  }

  /* 48px */

  /* Font Weights - Semantic Naming */
  .font-light {
    font-weight: 300;
  }

  .font-normal {
    font-weight: 400;
  }

  .font-medium {
    font-weight: 500;
  }

  .font-semibold {
    font-weight: 600;
  }

  .font-bold {
    font-weight: 700;
  }

  .font-extrabold {
    font-weight: 800;
  }

  /* Letter Spacing - Optimized for Readability */
  .tracking-tight {
    letter-spacing: -0.025em;
  }

  .tracking-normal {
    letter-spacing: 0em;
  }

  .tracking-wide {
    letter-spacing: 0.025em;
  }

  .tracking-wider {
    letter-spacing: 0.05em;
  }

  .tracking-widest {
    letter-spacing: 0.1em;
  }

  /* Heading Styles - Semantic & Beautiful */
  h1,
  .heading-1 {
    @apply text-4xl font-bold tracking-tight;
    color: rgb(var(--foreground));
  }

  h2,
  .heading-2 {
    @apply text-3xl font-semibold tracking-tight;
    color: rgb(var(--foreground));
  }

  h3,
  .heading-3 {
    @apply text-2xl font-semibold tracking-tight;
    color: rgb(var(--neutral-700));
  }

  h4,
  .heading-4 {
    @apply text-xl font-medium tracking-tight;
    color: rgb(var(--neutral-700));
  }

  h5,
  .heading-5 {
    @apply text-lg font-medium;
    color: rgb(var(--neutral-600));
  }

  h6,
  .heading-6 {
    @apply text-base font-medium;
    color: rgb(var(--neutral-600));
  }

  /* スクロールバーのカスタマイズ */
  ::-webkit-scrollbar {
    width: 6px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: hsl(var(--muted-foreground) / 0.3);
    border-radius: 3px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--muted-foreground) / 0.5);
  }
}

/* 🎭 Animation System - Smooth & Delightful */
@layer components {

  /* 基本アニメーション設定 */
  .animate-smooth {
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .animate-bounce-gentle {
    animation: bounceGentle 0.6s ease-in-out;
  }

  .animate-fade-in {
    animation: fadeIn 0.3s ease-out;
  }

  .animate-slide-up {
    animation: slideUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .animate-scale-in {
    animation: scaleIn 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* キーフレーム定義 */
  @keyframes bounceGentle {

    0%,
    100% {
      transform: translateY(0);
    }

    50% {
      transform: translateY(-4px);
    }
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }

    to {
      opacity: 1;
    }
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(16px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes scaleIn {
    from {
      opacity: 0;
      transform: scale(0.95);
    }

    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes pulse-glow {

    0%,
    100% {
      box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.4);
    }

    50% {
      box-shadow: 0 0 0 8px rgba(59, 130, 246, 0);
    }
  }

  /* ボタンのベーススタイル - アニメーション強化 */
  .btn-primary {
    @apply relative bg-blue-500 hover:bg-blue-600 text-white font-medium px-6 py-3 rounded-lg;
    @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2;
    @apply transform transition-all duration-200 ease-in-out;
    @apply hover:scale-105 hover:shadow-lg active:scale-95;
    background: rgb(var(--primary));
    color: rgb(var(--primary-foreground));
  }

  .btn-primary:hover {
    background: rgb(var(--primary-dark));
    box-shadow: var(--shadow-lg);
  }

  .btn-primary:active {
    transform: scale(0.98);
  }

  .btn-secondary {
    @apply relative bg-white hover:bg-neutral-50 text-neutral-700 font-medium px-6 py-3 rounded-lg;
    @apply border border-neutral-200 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2;
    @apply transform transition-all duration-200 ease-in-out;
    @apply hover:scale-105 hover:shadow-md active:scale-95;
    background: rgb(var(--surface));
    color: rgb(var(--neutral-700));
    border-color: rgb(var(--border));
  }

  .btn-secondary:hover {
    background: rgb(var(--neutral-50));
    border-color: rgb(var(--border-strong));
    box-shadow: var(--shadow-md);
  }

  /* アクセントボタン */
  .btn-accent {
    @apply relative text-white font-medium px-6 py-3 rounded-lg;
    @apply focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2;
    @apply transform transition-all duration-200 ease-in-out;
    @apply hover:scale-105 hover:shadow-lg active:scale-95;
    background: var(--gradient-accent);
    color: rgb(var(--accent-foreground));
  }

  /* カードスタイル - アニメーション強化 */
  .card-elevated {
    @apply bg-white rounded-xl border border-neutral-200;
    @apply transform transition-all duration-300 ease-in-out;
    @apply hover:shadow-lg hover:-translate-y-1;
    background: rgb(var(--card));
    border-color: rgb(var(--card-border));
    box-shadow: var(--shadow-sm);
  }

  .card-elevated:hover {
    box-shadow: var(--shadow-lg);
    transform: translateY(-2px);
    border-color: rgb(var(--border-strong));
  }

  /* インタラクティブカード */
  .card-interactive {
    @apply card-elevated cursor-pointer;
    @apply hover:scale-[1.02] active:scale-[0.98];
  }

  /* タスクアイテムスタイル - アニメーション強化 */
  .task-item {
    @apply card-elevated p-5 cursor-pointer;
    @apply transform transition-all duration-200 ease-in-out;
    @apply animate-fade-in;
  }

  .task-item:hover {
    border-color: rgb(var(--primary-100));
    background: rgb(var(--primary-50));
    transform: translateY(-1px) scale(1.005);
  }

  .task-item.completed {
    opacity: 0.7;
    background: rgb(var(--neutral-50));
    transform: scale(0.98);
  }

  /* サイドバーアイテム - アニメーション強化 */
  .sidebar-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.75rem;
    border-radius: 0.5rem;
    cursor: pointer;
    transform: translateZ(0);
    transition: all 0.2s ease-in-out;
  }

  .sidebar-item:hover {
    background: rgb(var(--neutral-50));
    transform: translateX(4px) scale(1.02);
  }

  .sidebar-item.active {
    background: rgb(var(--primary-50));
    border-left: 4px solid rgb(var(--primary));
    transform: translateX(2px);
  }

  /* プログレス・インジケーター */
  .progress-ring {
    @apply relative inline-block;
  }

  .progress-ring circle {
    transition: stroke-dashoffset 0.35s ease-in-out;
    transform: rotate(-90deg);
    transform-origin: 50% 50%;
  }

  /* ローディングアニメーション */
  .loading-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  .loading-spin {
    animation: spin 1s linear infinite;
  }

  @keyframes pulse {

    0%,
    100% {
      opacity: 1;
    }

    50% {
      opacity: .5;
    }
  }

  @keyframes spin {
    from {
      transform: rotate(0deg);
    }

    to {
      transform: rotate(360deg);
    }
  }

  /* フォーカス・ハイライト */
  .focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px rgb(var(--primary)), 0 0 0 4px rgb(var(--primary) / 0.2);
    animation: pulse-glow 2s infinite;
  }

  /* スクロールアニメーション */
  .scroll-reveal {
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.6s ease-out;
  }

  .scroll-reveal.visible {
    opacity: 1;
    transform: translateY(0);
  }
}

/* 🛠️ Advanced Utility Classes */
@layer utilities {

  /* テキスト制限 */
  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
    line-clamp: 1;
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    line-clamp: 2;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
    line-clamp: 3;
  }

  .line-clamp-4 {
    display: -webkit-box;
    -webkit-line-clamp: 4;
    -webkit-box-orient: vertical;
    overflow: hidden;
    line-clamp: 4;
  }

  /* テキストエフェクト */
  .text-shadow {
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.12);
  }

  .text-shadow-lg {
    text-shadow: 0 4px 8px rgba(0, 0, 0, 0.25);
  }

  .text-glow {
    text-shadow: 0 0 10px currentColor;
  }

  /* グラデーション背景 */
  .bg-gradient-primary {
    background: var(--gradient-primary);
  }

  .bg-gradient-secondary {
    background: var(--gradient-secondary);
  }

  .bg-gradient-accent {
    background: var(--gradient-accent);
  }

  .bg-gradient-surface {
    background: var(--gradient-surface);
  }

  /* グラスモーフィズム */
  .glass {
    background: rgba(255, 255, 255, 0.25);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.18);
  }

  .glass-card {
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(16px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  }

  .glass-dark {
    background: rgba(0, 0, 0, 0.25);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  .gradient-primary {
    background: var(--gradient-primary);
  }

  /* マイクロインタラクション */
  .micro-interaction {
    transition: all 0.2s ease;
  }

  .micro-interaction:hover {
    transform: translateY(-1px);
  }

  /* フォーカス強化 */
  .enhanced-focus {
    transition: all 0.2s ease;
  }

  .enhanced-focus:focus {
    outline: none;
    ring: 2px solid rgb(var(--primary));
    ring-offset: 2px;
    box-shadow: 0 0 0 2px rgb(var(--primary) / 0.2);
  }

  /* プログレッシブ開示 */
  .progressive-disclosure {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease;
  }

  .progressive-disclosure.expanded {
    max-height: 1000px;
  }

  /* 現在時刻インジケーター */
  .current-time-indicator::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, transparent, rgb(var(--primary)), transparent);
    animation: pulse-glow 2s infinite;
  }

  /* クイック追加のパルス効果 */
  .quick-add-pulse {
    animation: pulse 2s infinite;
  }

  /* 時間プリセットボタン */
  .time-preset-button:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  /* 時間入力強化 */
  .time-input-enhanced input:focus {
    box-shadow: 0 0 0 3px rgb(var(--primary) / 0.1);
  }

  /* タスクプレビュー */
  .task-preview {
    background: rgb(var(--neutral-50));
    border: 1px solid rgb(var(--border));
    border-radius: 8px;
    padding: 12px;
    opacity: 0;
    transform: translateY(10px);
    transition: all 0.3s ease;
  }

  .task-preview.has-content {
    opacity: 1;
    transform: translateY(0);
  }

  /* ニューモーフィズム */
  .neumorphism {
    background: rgb(var(--neutral-50));
    box-shadow:
      8px 8px 16px rgba(163, 177, 198, 0.6),
      -8px -8px 16px rgba(255, 255, 255, 0.5);
  }

  .neumorphism-inset {
    background: rgb(var(--neutral-50));
    box-shadow:
      inset 8px 8px 16px rgba(163, 177, 198, 0.6),
      inset -8px -8px 16px rgba(255, 255, 255, 0.5);
  }

  /* エレベーション */
  .elevation-0 {
    box-shadow: none;
  }

  .elevation-1 {
    box-shadow: var(--shadow-xs);
  }

  .elevation-2 {
    box-shadow: var(--shadow-sm);
  }

  .elevation-3 {
    box-shadow: var(--shadow);
  }

  .elevation-4 {
    box-shadow: var(--shadow-md);
  }

  .elevation-5 {
    box-shadow: var(--shadow-lg);
  }

  .elevation-6 {
    box-shadow: var(--shadow-xl);
  }

  /* スペーシング */
  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-area-left {
    padding-left: env(safe-area-inset-left);
  }

  .safe-area-right {
    padding-right: env(safe-area-inset-right);
  }

  /* 視覚効果 */
  .blur-backdrop {
    backdrop-filter: blur(8px);
  }

  .saturate-high {
    filter: saturate(1.5);
  }

  .brightness-high {
    filter: brightness(1.1);
  }

  /* レスポンシブクラスはTailwindの標準機能を使用: hidden md:block, block md:hidden */

  /* スクロール */
  .scroll-smooth {
    scroll-behavior: smooth;
  }

  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* インタラクション */
  .select-none {
    user-select: none;
  }

  .touch-manipulation {
    touch-action: manipulation;
  }

  .will-change-transform {
    will-change: transform;
  }

  .will-change-scroll {
    will-change: scroll-position;
  }

  /* レイアウト */
  .center-absolute {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }

  .full-screen {
    width: 100vw;
    height: 100vh;
  }

  .min-touch-target {
    min-width: 44px;
    min-height: 44px;
  }

  /* フォーカス */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2;
  }

  .focus-ring-inset {
    @apply focus:outline-none focus:ring-2 focus:ring-primary focus:ring-inset;
  }
}

/* エネルギースライダーのスタイル */
input[type="range"].slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  background: transparent;
  cursor: pointer;
  height: 8px;
}

input[type="range"].slider-thumb::-webkit-slider-track {
  background: transparent;
  height: 8px;
  border-radius: 4px;
}

input[type="range"].slider-thumb::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  height: 20px;
  width: 20px;
  border-radius: 50%;
  background: #3b82f6;
  border: 2px solid #ffffff;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  cursor: pointer;
  transition: all 0.2s ease;
}

input[type="range"].slider-thumb::-webkit-slider-thumb:hover {
  background: #2563eb;
  transform: scale(1.1);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

input[type="range"].slider-thumb::-moz-range-track {
  background: transparent;
  height: 8px;
  border-radius: 4px;
  border: none;
}

input[type="range"].slider-thumb::-moz-range-thumb {
  height: 20px;
  width: 20px;
  border-radius: 50%;
  background: #3b82f6;
  border: 2px solid #ffffff;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  cursor: pointer;
  transition: all 0.2s ease;
}

input[type="range"].slider-thumb::-moz-range-thumb:hover {
  background: #2563eb;
  transform: scale(1.1);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

/* タスクカードとボタンの重複防止 */
.task-card {
  position: relative;
  overflow: visible;
}

.task-completion-button {
  position: absolute;
  top: 8px;
  left: 8px;
  z-index: 25;
  pointer-events: auto;
}

/* エネルギートラッカーの最適化 */
.energy-tracker-container {
  position: relative;
  z-index: 40;
  background: rgba(255, 255, 255, 0.98);
  backdrop-filter: blur(8px);
  border-top: 2px solid rgb(226, 232, 240);
}

/* ボタンの最小タップエリア確保 */
.touch-target {
  min-width: 44px;
  min-height: 44px;
}

/* スペーシング調整 */
.safe-bottom {
  padding-bottom: 192px;
  /* エネルギートラッカーの高さ分 */
}

/* 🎯 タイムライン表示改善 - v1.2.11 */
.timeline-task-container {
  /* 時刻軸との衝突防止 */
  padding-left: 16px;

  /* PC表示: カード間隔12px */
  gap: 12px;

  /* z-index管理: 重なり順序の明確化 */
  z-index: 1;

  /* カード重なり防止 */
  position: relative;
}

/* 時刻バッジの確実な表示 */
.timeline-time-badge {
  position: absolute !important;
  top: -8px !important;
  left: 8px !important;
  z-index: 10 !important;
  pointer-events: none;
  white-space: nowrap;
}

.timeline-task-card {
  /* 基本z-index */
  z-index: 2;

  /* ホバー時の優先表示 */
  transition: z-index 0.1s ease, transform 0.2s ease, box-shadow 0.2s ease;

  /* カード間隔はJavaScript側のTASK_GAPで制御 */

  /* 重なり防止のための背景確保 */
  background-clip: padding-box;

  /* 視認性向上 - 背景色の強化 */
  background-color: rgba(255, 255, 255, 0.95) !important;
  border: 1px solid rgba(0, 0, 0, 0.08) !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;

  /* テキストコントラスト改善 */
  color: #1f2937 !important;
  font-weight: 500 !important;
}

.timeline-task-card:hover {
  z-index: 15 !important;
  transform: translateY(-1px);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2) !important;
  background-color: rgba(255, 255, 255, 0.98) !important;
  border-color: rgba(59, 130, 246, 0.3) !important;
}

.timeline-task-card.active {
  z-index: 12 !important;
}

.timeline-task-card.dragging {
  z-index: 25 !important;
}

.timeline-task-card.completed {
  z-index: 1 !important;
}

/* 進捗表示の改善 */
.timeline-progress-indicator {
  min-width: 24px;
  font-size: 10px;
  font-weight: bold;
  color: #64748b;
}

/* レスポンシブ調整 */
@media (max-width: 768px) {
  .timeline-time-badge {
    font-size: 10px !important;
    padding: 2px 6px !important;
  }

  .timeline-task-card {
    /* モバイルでもTASK_GAPによる制御を使用 */
  }
}

/* タスクカード内のコンテンツ階層 */
.timeline-task-content {
  position: relative;
  z-index: 1;
}

.timeline-task-button {
  position: relative;
  z-index: 2;
}

/* 重なり時の視認性向上 */
.timeline-task-card:not(:hover)+.timeline-task-card {
  margin-top: 2px;
}

/* ドラッグ中の他カードの透明度調整 */
.timeline-dragging .timeline-task-card:not(.dragging) {
  opacity: 0.7;
  z-index: 1;
}

/* 時間軸との整合性確保 */
.timeline-time-slot {
  position: relative;
  z-index: 0;
}

.timeline-current-time-indicator {
  z-index: 15;
}

/* 🎯 時間軸の視認性向上 - v1.2.13 */
.timeline-time-axis {
  font-size: 14px !important;
  font-weight: 600 !important;
  color: #374151 !important;
  line-height: 1.2 !important;
}

.timeline-time-label {
  font-size: 13px !important;
  font-weight: 500 !important;
  color: #4b5563 !important;
  background: rgba(255, 255, 255, 0.9) !important;
  padding: 2px 6px !important;
  border-radius: 4px !important;
  border: 1px solid rgba(0, 0, 0, 0.05) !important;
}

/* 現在時刻インジケーターの追加 */
.timeline-current-time-line {
  position: absolute;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, #ef4444, #f97316);
  box-shadow: 0 0 8px rgba(239, 68, 68, 0.4);
  z-index: 20;
}

.timeline-current-time-line::before {
  content: '';
  position: absolute;
  left: -6px;
  top: -4px;
  width: 12px;
  height: 12px;
  background: #ef4444;
  border-radius: 50%;
  border: 2px solid white;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
}

/* タスクカードの状態別色分け強化 */
.timeline-task-card.status-waiting {
  background-color: rgba(243, 244, 246, 0.95) !important;
  border-left: 4px solid #9ca3af !important;
}

.timeline-task-card.status-in-progress {
  background-color: rgba(254, 249, 195, 0.95) !important;
  border-left: 4px solid #f59e0b !important;
}

.timeline-task-card.status-completed {
  background-color: rgba(220, 252, 231, 0.95) !important;
  border-left: 4px solid #10b981 !important;
}

.timeline-task-card.status-overdue {
  background-color: rgba(254, 226, 226, 0.95) !important;
  border-left: 4px solid #ef4444 !important;
}

/* 🎉 タスク完了の達成感アニメーション */
.task-completion-celebration {
  position: relative;
  overflow: visible;
}

.task-completion-celebration::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: radial-gradient(circle, rgba(34, 197, 94, 0.3) 0%, transparent 70%);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  animation: completionRipple 1s ease-out;
  pointer-events: none;
  z-index: 1;
}

.task-completion-celebration::after {
  content: '🎉';
  position: absolute;
  top: -10px;
  right: -10px;
  font-size: 1.5rem;
  animation: celebrationBounce 0.8s ease-out;
  pointer-events: none;
  z-index: 2;
}

@keyframes completionRipple {
  0% {
    width: 0;
    height: 0;
    opacity: 1;
  }

  100% {
    width: 200px;
    height: 200px;
    opacity: 0;
  }
}

@keyframes celebrationBounce {
  0% {
    transform: scale(0) rotate(0deg);
    opacity: 0;
  }

  50% {
    transform: scale(1.2) rotate(180deg);
    opacity: 1;
  }

  100% {
    transform: scale(1) rotate(360deg);
    opacity: 0;
  }
}

/* 🌟 チェックボックス完了アニメーション */
.checkbox-completion {
  animation: checkboxPop 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes checkboxPop {
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(1.3);
  }

  100% {
    transform: scale(1);
  }
}

/* ✨ 星エフェクト */
.star-burst {
  position: relative;
}

.star-burst::before {
  content: '✨';
  position: absolute;
  top: -5px;
  left: 50%;
  transform: translateX(-50%);
  animation: starBurst 1.2s ease-out;
  pointer-events: none;
  z-index: 3;
}

@keyframes starBurst {
  0% {
    opacity: 0;
    transform: translateX(-50%) translateY(0) scale(0);
  }

  30% {
    opacity: 1;
    transform: translateX(-50%) translateY(-20px) scale(1.2);
  }

  100% {
    opacity: 0;
    transform: translateX(-50%) translateY(-40px) scale(0.8);
  }
}

/* 🎊 コンフェッティ効果 */
.confetti-explosion {
  position: relative;
}

.confetti-explosion::before,
.confetti-explosion::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 4px;
  height: 4px;
  background: #f59e0b;
  border-radius: 50%;
  animation: confettiPop 1s ease-out;
  pointer-events: none;
}

.confetti-explosion::after {
  background: #3b82f6;
  animation-delay: 0.1s;
  animation-name: confettiPop2;
}

@keyframes confettiPop {
  0% {
    transform: translate(-50%, -50%) scale(0);
    opacity: 1;
  }

  50% {
    transform: translate(-70px, -80px) scale(1);
    opacity: 1;
  }

  100% {
    transform: translate(-100px, -120px) scale(0);
    opacity: 0;
  }
}

@keyframes confettiPop2 {
  0% {
    transform: translate(-50%, -50%) scale(0);
    opacity: 1;
  }

  50% {
    transform: translate(-30px, -80px) scale(1);
    opacity: 1;
  }

  100% {
    transform: translate(-10px, -120px) scale(0);
    opacity: 0;
  }
}

/* 🎯 スケール＆フェードアニメーション */
.achievement-pulse {
  animation: achievementPulse 0.8s ease-out;
}

@keyframes achievementPulse {
  0% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.4);
  }

  50% {
    transform: scale(1.05);
    box-shadow: 0 0 0 20px rgba(34, 197, 94, 0);
  }

  100% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(34, 197, 94, 0);
  }
}

/* 🌈 虹色ハイライト */
.rainbow-highlight {
  position: relative;
  overflow: hidden;
}

.rainbow-highlight::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg,
      transparent,
      rgba(255, 255, 255, 0.4),
      transparent);
  animation: rainbowSweep 1.5s ease-out;
  pointer-events: none;
}

@keyframes rainbowSweep {
  0% {
    left: -100%;
  }

  100% {
    left: 100%;
  }
}

/* 📈 進捗バー完了アニメーション */
.progress-complete {
  animation: progressCompleteGlow 1s ease-out;
}

@keyframes progressCompleteGlow {
  0% {
    box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.4);
  }

  50% {
    box-shadow: 0 0 20px 5px rgba(34, 197, 94, 0.6);
  }

  100% {
    box-shadow: 0 0 0 0 rgba(34, 197, 94, 0);
  }
}

/* 🎈 フロート効果 */
.float-celebration {
  animation: floatCelebration 2s ease-in-out;
}

@keyframes floatCelebration {
  0% {
    transform: translateY(0);
  }

  25% {
    transform: translateY(-10px);
  }

  50% {
    transform: translateY(-5px);
  }

  75% {
    transform: translateY(-15px);
  }

  100% {
    transform: translateY(0);
  }
}

/* 🎵 リズムパルス */
.rhythm-pulse {
  animation: rhythmPulse 0.4s ease-in-out 3;
}

@keyframes rhythmPulse {

  0%,
  100% {
    transform: scale(1);
  }

  50% {
    transform: scale(1.1);
  }
}